{"cells":[{"cell_type":"code","source":["import pandas as pd\n","import matplotlib.pyplot as plt\n","import matplotlib.dates as mdates\n","from io import StringIO\n","\n","# --- Data Preparation ---\n","# The CSV data is loaded from a string to make the script self-contained.\n","csv_data = \"\"\"Business Date,Utilization,Security Price\n","07-15-2024,5.04,182.88\n","07-16-2024,4.99,185.81\n","07-17-2024,4.93,187.45\n","07-18-2024,5.19,185.22\n","07-19-2024,5.24,183.25\n","07-22-2024,5.27,184.15\n","07-23-2024,5.33,184.1\n","07-24-2024,5.01,184.02\n","07-25-2024,5.25,191.98\n","07-26-2024,4.89,191.75\n","07-29-2024,4.38,191.5\n","07-30-2024,4.53,191.04\n","07-31-2024,4.55,192.14\n","08-01-2024,4.55,189.66\n","08-02-2024,4.64,189.12\n","08-05-2024,4.94,183.31\n","08-06-2024,5.66,186.8\n","08-07-2024,5.89,186.8\n","08-08-2024,5.75,192.61\n","08-09-2024,6.59,191.45\n","08-12-2024,5.74,189.48\n","08-13-2024,4.98,190.99\n","08-14-2024,5.08,192.32\n","08-15-2024,4.99,193.95\n","08-16-2024,5,193.78\n","08-19-2024,5.18,194.73\n","08-20-2024,5.48,196.03\n","08-21-2024,4.81,197.21\n","08-22-2024,4.55,195.96\n","08-23-2024,4.63,196.1\n","08-26-2024,4.65,197.98\n","08-27-2024,4.23,198.73\n","08-28-2024,5.36,198.46\n","08-29-2024,5.23,198.9\n","08-30-2024,4.27,202.13\n","09-02-2024,4.42,202.13\n","09-03-2024,4.49,201.28\n","09-04-2024,4.39,204.11\n","09-05-2024,4.68,202.59\n","09-06-2024,4.77,200.74\n","09-09-2024,4.71,203.53\n","09-10-2024,4.76,205.32\n","09-11-2024,4.85,209.89\n","09-12-2024,5.37,211.61\n","09-13-2024,5.47,214.79\n","09-16-2024,5.72,217.16\n","11-05-2024,3.65,207.57\n","11-06-2024,3.4,213.6\n","\n","\n","5-21-2025,4.27,260.87\n","\n","\"\"\"\n","data = StringIO(csv_data)\n","df = pd.read_csv(data)\n","\n","# Convert 'Business Date' to datetime objects for plotting\n","df['Business Date'] = pd.to_datetime(df['Business Date'], format='%m-%d-%Y')\n","\n","# --- Chart Creation ---\n","# Set up the plot with a specific size\n","fig, ax1 = plt.subplots(figsize=(12, 7))\n","\n","# Plot Security Price on the primary y-axis (ax1)\n","color1 = 'tab:blue'\n","ax1.set_xlabel('Date')\n","ax1.set_ylabel('Price per Share ($)', color=color1, fontsize=12)\n","line1 = ax1.plot(df['Business Date'], df['Security Price'], color=color1, label='UMAC - Price per Share ($)', linewidth=3, linestyle='-')\n","ax1.tick_params(axis='y', labelcolor=color1)\n","ax1.grid(False) # Turn off grid for the primary axis\n","\n","# Create a secondary y-axis for Utilization\n","ax2 = ax1.twinx()\n","color2 = 'tab:purple'\n","ax2.set_ylabel('Utilization (%)', color=color2, fontsize=12)\n","line2 = ax2.plot(df['Business Date'], df['Utilization'], color=color2, linewidth=3, linestyle='-', label='Utilization (%)')\n","ax2.tick_params(axis='y', labelcolor=color2)\n","ax2.grid(False, linestyle=':', alpha=0.6) # Enable grid for the secondary axis\n","\n","# --- Formatting and Labels ---\n","# Title\n","plt.title('UMAC: Price vs. Utilization', fontsize=16, fontweight='bold')\n","\n","# Format the x-axis to show dates cleanly\n","ax1.xaxis.set_major_locator(mdates.MonthLocator(interval=1))\n","ax1.xaxis.set_major_formatter(mdates.DateFormatter('%b %Y'))\n","plt.setp(ax1.xaxis.get_majorticklabels(), rotation=45, ha=\"right\")\n","\n","# Create a single legend for both lines\n","lines = line1 + line2\n","labels = [l.get_label() for l in lines]\n","ax1.legend(lines, labels, loc='upper left')\n","\n","# Adjust layout to prevent labels from overlapping\n","fig.tight_layout()\n","\n","# Display the plot\n","plt.show()"],"outputs":[{"output_type":"error","ename":"SyntaxError","evalue":"incomplete input (ipython-input-1-3184044610.py, line 8)","traceback":["\u001b[0;36m  File \u001b[0;32m\"/tmp/ipython-input-1-3184044610.py\"\u001b[0;36m, line \u001b[0;32m8\u001b[0m\n\u001b[0;31m    csv_data = \"\"\"Business Date,Utilization,Security Price\u001b[0m\n\u001b[0m               ^\u001b[0m\n\u001b[0;31mSyntaxError\u001b[0m\u001b[0;31m:\u001b[0m incomplete input\n"]}],"execution_count":1,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":106},"id":"0Fc7K8YzC5hN","executionInfo":{"status":"error","timestamp":1752608455108,"user_tz":240,"elapsed":8,"user":{"displayName":"Bob Sheehan","userId":"08159093702253523584"}},"outputId":"76af0a88-4296-49c5-897e-c8c59ebc97f7"}}],"metadata":{"colab":{"provenance":[]},"kernelspec":{"display_name":"Python 3","name":"python3"}},"nbformat":4,"nbformat_minor":0}