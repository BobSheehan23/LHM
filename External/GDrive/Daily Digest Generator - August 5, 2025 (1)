{"cells":[{"cell_type":"code","source":["import pandas as pd\n","from datetime import datetime\n","import re\n","import numpy as np\n","\n","# --- Configuration ---\n","# The output file will be named with the specified date.\n","OUTPUT_HTML_PATH = \"equilend_daily_digest_August_05_2025.html\"\n","DIGEST_DATE = \"August 5, 2025\"\n","\n","# --- 1. Content and Data ---\n","\n","def get_digest_content():\n","    \"\"\"\n","    Returns all the text content and structured data for the digest.\n","    This section is populated with the content from the August 5th document.\n","    \"\"\"\n","    # Helper function to extract numerical change from strings like \"(-40.1%)\"\n","    def parse_change(text):\n","        match = re.search(r'\\((.*?)%\\)', text)\n","        if match:\n","            try:\n","                return float(match.group(1))\n","            except (ValueError, TypeError):\n","                return 0\n","        return 0\n","\n","    content = {\n","        'market_notes': {\n","            'avg_fee_bps': '42.27',\n","            'avg_fee_change': parse_change(\"(-40.1%)\"),\n","            'avg_util_percent': '7.2',\n","            'avg_util_change': parse_change(\"(+2.13%)\"),\n","            'on_loan_value': '3.06T',\n","            'on_loan_value_change': parse_change(\"(+1.86%)\"),\n","            'lendable_value': '42.6T',\n","            'lendable_value_change': parse_change(\"(-0.26%)\")\n","        },\n","        'headlines': [\n","            {\n","                'title': 'US Tariffs on India and South Korea Trigger Market Volatility',\n","                'description': 'The US has introduced new tariffs on imports from several countries, including India and South Korea. The announcement has created uncertainty and has already been a factor in market volatility. For example, copper prices initially rose on supply concerns, while Indian and South Korean equities experienced selling pressure. The move could signal a potential re-escalation of global trade tensions.',\n","                'data_insight': 'Borrowing demand in Asia as a whole has been significantly heightened in the past months due to the impact of turbulent tariff negotiations. With this increased demand for securities, our data highlights the rising cost to borrow in the region, with average fees for Asian equities reaching a peak of 206 bps last week, a jump of around 40 bps compared to the same time in 2024.'\n","            },\n","            {\n","                'title': 'Strong Big Tech Earnings Drive Nasdaq and S&P 500',\n","                'description': 'Major technology companies have reported strong quarterly earnings, with several beating analyst expectations. Companies like Microsoft and Meta Platforms, in particular, delivered results that reinforced the ongoing momentum behind artificial intelligence as a key growth driver. The positive earnings reports helped to support the Nasdaq and S&P 500, which had been under pressure due to other macro factors.',\n","                'data_insight': 'Many AI startup companies have come under the spotlight in recent months with big tech names, such as Meta and Microsoft, looking at expanding and acquiring in this field. According to our data, the latest AI company to be heating up is Rezolve AI (RZLV) following an announcement of a $50 million, long-term investment from Citadel. The volume of shares on loan has risen sharply in recent weeks, rising by 2.5 million shares in the past week to a record of 18.3 million shares on loan.'\n","            },\n","            {\n","                'title': 'Meme Stock Mania Continues with Controversial American Eagle Ad Campaign',\n","                'description': 'Shares in the US clothing brand American Eagle have jumped 24%, the biggest movement for the company since 2000. The rise comes following an advertisement campaign, released last week, featuring celebrity Sydney Sweeney, which has been criticized due to a controversial slogan used to advertise their jeans. However, President Trump has since publicly praised the ad, adding to the frenzy of media attention and activity on Wall Street.',\n","                'data_insight': 'Due to the lack of concrete financial basis for American Eagle (AEO) shares rising, hedge fund interest has been peaked with the inflated stock prices not expected to be sustainable. This increase in short interest has been prevalent in our data, with the number of AEO shares on loan rising by 40% in the last week to 31.3 million and in turn, the cost of borrowing these shares has followed a similar trend.'\n","            }\n","        ],\n","        'key_takeaways': [\n","            \"Tariff discussions are still yet to meet a conclusion between the U.S. and several Asian countries resulting in ongoing volatility throughout Asian markets.\",\n","            \"AI mania continues to fuel progression in U.S. equity markets, with Nasdaq and the S&P 500 benefitting as a consequence.\",\n","            \"American Eagle are the latest to be a part of a recent flurry of Meme stock activity, as a controversial ad campaign sparks backlash amongst certain parties within the media.\"\n","        ]\n","    }\n","    return content\n","\n","def get_tables_html():\n","    \"\"\"\n","    Returns HTML for the two data tables using the data from August 5th.\n","    \"\"\"\n","    # Data for \"Hot & Getting Hotter\"\n","    ht_borrow_data = [\n","        {\"TICKER\": \"VWAV\", \"Company Name\": \"VISIONWAVE HOLDINGS\", \"Industry\": \"Capital Goods\", \"Price\": \"$7.25\", \"Fee 1 WoW (bps)\": 52979.59},\n","        {\"TICKER\": \"DGNX\", \"Company Name\": \"DIGINEX LIMITED\", \"Industry\": \"Software & Services\", \"Price\": \"$52.59\", \"Fee 1 WoW (bps)\": 3442.89},\n","        {\"TICKER\": \"ABVE\", \"Company Name\": \"ABOVE FOOD INGRED,\", \"Industry\": \"Food, Beverage & Tobacco\", \"Price\": \"$1.71\", \"Fee 1 WoW (bps)\": 1611.35},\n","        {\"TICKER\": \"PAPL\", \"Company Name\": \"PINEAPPLE FINANCIAL\", \"Industry\": \"Diversified Financials\", \"Price\": \"$3.53\", \"Fee 1 WoW (bps)\": 1541.26},\n","        {\"TICKER\": \"WBUY\", \"Company Name\": \"WEBUY GLOBAL\", \"Industry\": \"Food & Staples Retailing\", \"Price\": \"$3.53\", \"Fee 1 WoW (bps)\": 568.19},\n","    ]\n","\n","    # Data for \"Market Technicals & Squeeze Metrics\"\n","    squeeze_data = [\n","        {\"TICKER\": \"4935 JP\", \"Company Name\": \"LIBERTA CO LTD NPV\", \"Industry\": \"Retailing\", \"Price\": \"$21.97\", \"SSS\": 73, \"SSS WoW\": 23},\n","        {\"TICKER\": \"3715 TT\", \"Company Name\": \"DYNAMIC HOLDING CO LTD\", \"Industry\": \"Tech Hardware & Equip\", \"Price\": \"$2.76\", \"SSS\": 72, \"SSS WoW\": 28},\n","        {\"TICKER\": \"6731 JP\", \"Company Name\": \"PIXELA CORPORATION NPV\", \"Industry\": \"Tech Hardware & Equip\", \"Price\": \"$0.66\", \"SSS\": 67, \"SSS WoW\": 2},\n","        {\"TICKER\": \"2334 JP\", \"Company Name\": \"EOLE INC NPV\", \"Industry\": \"Interactive Media & Services\", \"Price\": \"$26.14\", \"SSS\": 65, \"SSS WoW\": 13},\n","        {\"TICKER\": \"281A JP\", \"Company Name\": \"INFORMETIS CO LTD NPV\", \"Industry\": \"Software & Services\", \"Price\": \"$13.44\", \"SSS\": 65, \"SSS WoW\": 0},\n","    ]\n","\n","    # Helper function to format numerical changes with color\n","    def format_change(value, unit=' BPS'):\n","        try:\n","            cleaned_value = str(value).replace(',', '').strip()\n","            val = float(cleaned_value)\n","            color = '#16a34a' if val > 0 else ('#dc2626' if val < 0 else '#334155') # Green for positive, red for negative, gray for zero\n","            sign = '+' if val > 0 else ''\n","            return f'<span style=\"colo"],"outputs":[{"output_type":"error","ename":"SyntaxError","evalue":"unterminated string literal (detected at line 93) (ipython-input-1013902465.py, line 93)","traceback":["\u001b[0;36m  File \u001b[0;32m\"/tmp/ipython-input-1013902465.py\"\u001b[0;36m, line \u001b[0;32m93\u001b[0m\n\u001b[0;31m    return f'<span style=\"colo\u001b[0m\n\u001b[0m           ^\u001b[0m\n\u001b[0;31mSyntaxError\u001b[0m\u001b[0;31m:\u001b[0m unterminated string literal (detected at line 93)\n"]}],"execution_count":2,"metadata":{"id":"89KWVmYdCGWp","executionInfo":{"status":"error","timestamp":1754394049479,"user_tz":240,"elapsed":17,"user":{"displayName":"Bob Sheehan","userId":"08159093702253523584"}},"outputId":"e37e6849-7a4b-491b-a6ac-2a38656fb0fe","colab":{"base_uri":"https://localhost:8080/","height":106}}}],"metadata":{"colab":{"provenance":[]},"kernelspec":{"display_name":"Python 3","name":"python3"}},"nbformat":4,"nbformat_minor":0}