{"cells":[{"cell_type":"code","source":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\nfrom io import StringIO\n\n# --- Data Preparation ---\n# The CSV data is loaded from a string to make the script self-contained.\ncsv_data = \"\"\"Business Date,Utilization,Security Price\n07-15-2024,5.04,182.88\n07-16-2024,4.99,185.81\n07-17-2024,4.93,187.45\n07-18-2024,5.19,185.22\n07-19-2024,5.24,183.25\n07-22-2024,5.27,184.15\n07-23-2024,5.33,184.1\n07-24-2024,5.01,184.02\n07-25-2024,5.25,191.98\n07-26-2024,4.89,191.75\n07-29-2024,4.38,191.5\n07-30-2024,4.53,191.04\n07-31-2024,4.55,192.14\n08-01-2024,4.55,189.66\n08-02-2024,4.64,189.12\n08-05-2024,4.94,183.31\n08-06-2024,5.66,186.8\n08-07-2024,5.89,186.8\n08-08-2024,5.75,192.61\n08-09-2024,6.59,191.45\n08-12-2024,5.74,189.48\n08-13-2024,4.98,190.99\n08-14-2024,5.08,192.32\n08-15-2024,4.99,193.95\n08-16-2024,5,193.78\n08-19-2024,5.18,194.73\n08-20-2024,5.48,196.03\n08-21-2024,4.81,197.21\n08-22-2024,4.55,195.96\n08-23-2024,4.63,196.1\n08-26-2024,4.65,197.98\n08-27-2024,4.23,198.73\n08-28-2024,5.36,198.46\n08-29-2024,5.23,198.9\n08-30-2024,4.27,202.13\n09-02-2024,4.42,202.13\n09-03-2024,4.49,201.28\n09-04-2024,4.39,204.11\n09-05-2024,4.68,202.59\n09-06-2024,4.77,200.74\n09-09-2024,4.71,203.53\n09-10-2024,4.76,205.32\n09-11-2024,4.85,209.89\n09-12-2024,5.37,211.61\n09-13-2024,5.47,214.79\n09-16-2024,5.72,217.16\n09-17-2024,5.91,214.13\n09-18-2024,6.06,214.94\n09-19-2024,6.21,213.89\n09-20-2024,6.41,217.7\n09-23-2024,7.13,220.5\n09-24-2024,6.85,220.97\n09-25-2024,6.77,221.23\n09-26-2024,6.64,223.43\n09-27-2024,6.45,220.84\n09-30-2024,6.14,221.08\n10-01-2024,6,219.35\n10-02-2024,5.71,219.73\n10-03-2024,5.27,222.72\n10-04-2024,5.22,226\n10-07-2024,5.48,227.12\n10-08-2024,5.52,228.62\n10-09-2024,5.67,234.3\n10-10-2024,5.73,233.02\n10-11-2024,5.96,233.26\n10-14-2024,5.97,235.26\n10-15-2024,5.89,232.96\n10-16-2024,5.82,233.67\n10-17-2024,5.66,232.88\n10-18-2024,5.43,232.2\n10-21-2024,5.57,231.75\n10-22-2024,4.83,232.25\n10-23-2024,4.85,232.75\n10-24-2024,5.09,218.39\n10-25-2024,4.99,214.67\n10-28-2024,5.72,212.91\n10-29-2024,5.01,210.43\n10-30-2024,4.47,204.9\n10-31-2024,4.22,206.72\n11-01-2024,3.99,208.25\n11-04-2024,3.8,206.32\n11-05-2024,3.65,207.57\n11-06-2024,3.4,213.6\n11-07-2024,3.56,213.69\n11-08-2024,3.37,213.72\n11-11-2024,3.37,213.57\n11-12-2024,4.26,210.86\n11-13-2024,3.5,210.92\n11-14-2024,3.36,208.99\n11-15-2024,3.47,204.99\n11-18-2024,3.56,208.09\n11-19-2024,3.49,210.25\n11-20-2024,3.47,214.6\n11-21-2024,4.32,222.4\n11-22-2024,4.69,222.97\n11-25-2024,4.82,226.13\n11-26-2024,4.58,228.83\n11-27-2024,4.88,226.92\n11-28-2024,4.92,226.92\n11-29-2024,4.99,227.41\n12-02-2024,4.84,227.39\n12-03-2024,4.81,229\n12-04-2024,4.86,233.49\n12-05-2024,4.99,234.75\n12-06-2024,4.94,238.04\n12-09-2024,5.18,230\n12-10-2024,5.2,231.72\n12-11-2024,5.25,230.12\n12-12-2024,5.15,232.26\n12-13-2024,5.16,230.82\n12-16-2024,4.96,229.33\n12-17-2024,4.72,228.97\n12-18-2024,4.7,220.17\n12-19-2024,4.45,223.92\n12-20-2024,4.62,223.36\n12-23-2024,4.75,221.93\n12-24-2024,5.16,224.41\n12-25-2024,4.93,224.41\n12-26-2024,5.06,224.89\n12-27-2024,5.34,222.78\n12-30-2024,5.22,220.25\n12-31-2024,5.17,219.83\n01-01-2025,5.11,219.83\n01-02-2025,5.16,219.94\n01-03-2025,5.23,222.65\n01-06-2025,4.84,222.67\n01-07-2025,4.76,223.96\n01-08-2025,4.5,223.18\n01-09-2025,4.51,223.18\n01-10-2025,4.44,219.75\n01-13-2025,4.49,217.4\n01-14-2025,4.32,217.75\n01-15-2025,4.41,220.03\n01-16-2025,4.22,222.66\n01-17-2025,4.37,224.79\n01-20-2025,4.31,224.79\n01-21-2025,3.88,224.26\n01-22-2025,3.61,223.26\n01-23-2025,3.66,226.04\n01-24-2025,3.49,224.8\n01-27-2025,3.66,224.13\n01-28-2025,3.49,225.66\n01-29-2025,3.53,228.63\n01-30-2025,3.46,258.27\n01-31-2025,3.55,255.7\n02-03-2025,3.29,260.73\n02-04-2025,3.25,264.46\n02-05-2025,3.47,263.3\n02-06-2025,3.45,253.44\n02-07-2025,3.45,252.34\n02-10-2025,3.98,249.27\n02-11-2025,2.8,254.7\n02-12-2025,2.81,255.81\n02-13-2025,2.76,259.19\n02-14-2025,2.92,261.28\n02-17-2025,2.9,261.28\n02-18-2025,3.07,263.07\n02-19-2025,3.09,264.32\n02-20-2025,3.17,264.74\n02-21-2025,3.83,261.48\n02-24-2025,4.02,261.87\n02-25-2025,3.78,257.75\n02-26-2025,3.69,255.84\n02-27-2025,3.28,253.23\n02-28-2025,3.28,252.44\n03-03-2025,3.15,250.19\n03-04-2025,3.13,253.21\n03-05-2025,3.27,251.35\n03-06-2025,3.22,248.69\n03-07-2025,3.44,261.54\n03-10-2025,3.33,256.9\n03-11-2025,3.55,248.95\n03-12-2025,3.49,249.63\n03-13-2025,3.59,245.8\n03-14-2025,3.37,248.35\n03-17-2025,3.49,252.97\n03-18-2025,3.56,246.95\n03-19-2025,3.42,252.29\n03-20-2025,3.58,243.32\n03-21-2025,3.81,243.87\n03-24-2025,3.94,248.45\n03-25-2025,3.81,249.9\n03-26-2025,3.73,250.34\n03-27-2025,3.74,246.21\n03-28-2025,3.65,244\n03-31-2025,3.6,248.66\n04-01-2025,3.94,250.34\n04-02-2025,4.14,249.98\n04-03-2025,4.15,243.49\n04-04-2025,4.16,227.48\n04-07-2025,4.21,225.78\n04-08-2025,4.12,221.03\n04-09-2025,4.54,235.31\n04-10-2025,4.4,229.55\n04-11-2025,4.4,235.48\n04-14-2025,4.53,239.06\n04-15-2025,4.52,240.7\n04-16-2025,4.59,238.57\n04-17-2025,4.73,238.81\n04-18-2025,4.72,238.81\n04-21-2025,4.87,236.22\n04-22-2025,4.52,240.9\n04-23-2025,4.54,245.48\n04-24-2025,4.87,229.33\n04-25-2025,4.61,232.41\n04-28-2025,4.38,236.16\n04-29-2025,4.41,239.39\n04-30-2025,4.39,241.82\n05-01-2025,4.43,239.66\n05-02-2025,4.52,245.55\n05-05-2025,4.48,249.18\n05-06-2025,4.52,249.12\n05-07-2025,4.45,253.37\n05-08-2025,4.46,254.14\n05-09-2025,5.02,249.2\n05-12-2025,4.17,253.69\n05-13-2025,4.53,258.59\n05-14-2025,4.35,257.82\n05-15-2025,4.15,266.68\n05-16-2025,4.28,266.76\n05-19-2025,4.27,268.41\n05-20-2025,4.54,266.95\n05-21-2025,4.27,260.87\n05-22-2025,3.91,258.37\n05-23-2025,3.93,258.63\n05-26-2025,3.88,258.63\n05-27-2025,3.79,263.23\n05-28-2025,3.88,260.24\n05-29-2025,3.66,258.69\n05-30-2025,3.67,259.06\n06-02-2025,2.79,263.9\n06-03-2025,2.65,265.2\n06-04-2025,2.53,265.52\n06-05-2025,2.56,266.86\n06-06-2025,2.64,268.87\n06-09-2025,2.63,272.08\n06-10-2025,2.69,276.24\n06-11-2025,2.72,281.52\n06-12-2025,2.84,281.03\n06-13-2025,2.92,277.22\n06-16-2025,2.93,281.83\n06-17-2025,2.98,283.05\n06-18-2025,3.07,283.21\n06-19-2025,3.04,283.21\n06-20-2025,3.16,280.97\n06-23-2025,3.18,289.18\n06-24-2025,3.24,293.79\n06-25-2025,3.58,291.06\n06-26-2025,3.28,291.93\n06-27-2025,3.15,289.7\n06-30-2025,3.09,294.78\n07-01-2025,2.84,291.2\n07-02-2025,2.95,287.65\n07-03-2025,3.03,291.97\n07-04-2025,2.96,291.97\n07-07-2025,2.85,292.47\n07-08-2025,2.89,290.42\n07-09-2025,2.93,290.14\n07-10-2025,2.87,287.43\n07-11-2025,2.93,283.59\n07-14-2025,2.77,283.79\n\"\"\"\ndata = StringIO(csv_data)\ndf = pd.read_csv(data)\n\n# Convert 'Business Date' to datetime objects for plotting\ndf['Business Date'] = pd.to_datetime(df['Business Date'], format='%m-%d-%Y')\n\n# --- Chart Creation ---\n# Set up the plot with a specific size\nfig, ax1 = plt.subplots(figsize=(12, 7))\n\n# Plot Security Price on the primary y-axis (ax1)\ncolor1 = 'tab:blue'\nax1.set_xlabel('Date')\nax1.set_ylabel('Price per Share ($)', color=color1, fontsize=12)\nline1 = ax1.plot(df['Business Date'], df['Security Price'], color=color1, label='UMAC - Price per Share ($)')\nax1.tick_params(axis='y', labelcolor=color1)\nax1.grid(False) # Turn off grid for the primary axis\n\n# Create a secondary y-axis for Utilization\nax2 = ax1.twinx()\ncolor2 = 'tab:purple'\nax2.set_ylabel('Utilization (%)', color=color2, fontsize=12)\nline2 = ax2.plot(df['Business Date'], df['Utilization'], color=color2, linestyle='--', label='UMAC - Utilization (%)')\nax2.tick_params(axis='y', labelcolor=color2)\nax2.grid(True, linestyle=':', alpha=0.6) # Enable grid for the secondary axis\n\n# --- Formatting and Labels ---\n# Title\nplt.title('UMAC: Price vs. Utilization', fontsize=16, fontweight='bold')\n\n# Format the x-axis to show dates cleanly\nax1.xaxis.set_major_locator(mdates.MonthLocator(interval=1))\nax1.xaxis.set_major_formatter(mdates.DateFormatter('%b %Y'))\nplt.setp(ax1.xaxis.get_majorticklabels(), rotation=45, ha=\"right\")\n\n# Create a single legend for both lines\nlines = line1 + line2\nlabels = [l.get_label() for l in lines]\nax1.legend(lines, labels, loc='upper left')\n\n# Adjust layout to prevent labels from overlapping\nfig.tight_layout()\n\n# Display the plot\nplt.show()","outputs":[],"execution_count":null,"metadata":{}}],"metadata":{"colab":{"from_bard":true},"kernelspec":{"display_name":"Python 3","name":"python3"}},"nbformat":4,"nbformat_minor":0}