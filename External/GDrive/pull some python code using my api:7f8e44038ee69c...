{"cells":[{"cell_type":"markdown","source":"Of course. Below is the Python code to create a full OBFR (Overnight Bank Funding Rate) dashboard using your API key.\n\nThis script uses the `fredapi` library to fetch data from the Federal Reserve Economic Data (FRED) and the `dash` library to create an interactive web-based dashboard.\n\n### How to Run the Code:\n\n1.  **Install the necessary libraries:**\n\n    ```bash\n    pip install pandas fredapi dash dash-core-components dash-html-components plotly\n    ```\n\n2.  **Save the code:** Save the following code as a Python file (e.g., `obfr_dashboard.py`).\n\n3.  **Execute from your terminal:**\n\n    ```bash\n    python obfr_dashboard.py\n    ```\n\n4.  **View the dashboard:** Open a web browser and navigate to the address shown in your terminal (usually `http://127.0.0.1:8050/`).\n\n-----\n\n### OBFR Dashboard Code:","metadata":{}},{"cell_type":"code","source":"import pandas as pd\nfrom fredapi import Fred\nimport dash\nimport dash_core_components as dcc\nimport dash_html_components as html\nimport plotly.express as px\n\n# Use your provided FRED API key\napi_key = '7f8e44038ee69c4f78cf71873e85db16'\n\n# Initialize the Fred object with your API key\nfred = Fred(api_key=api_key)\n\n# Fetch the Overnight Bank Funding Rate (OBFR) data\n# The series ID for OBFR is 'OBFR'\ntry:\n    obfr_series = fred.get_series('OBFR')\n    \n    # Create a pandas DataFrame\n    df = pd.DataFrame({\n        'Date': obfr_series.index,\n        'OBFR': obfr_series.values\n    })\n    \n    # Drop rows with missing values\n    df.dropna(inplace=True)\n\n    # Get the most recent OBFR value and its date\n    most_recent_value = df['OBFR'].iloc[-1]\n    most_recent_date = df['Date'].iloc[-1].strftime('%Y-%m-%d')\n\nexcept Exception as e:\n    print(f\"Error fetching data from FRED: {e}\")\n    # Create an empty dataframe and default values if API fails\n    df = pd.DataFrame({'Date': [], 'OBFR': []})\n    most_recent_value = \"N/A\"\n    most_recent_date = \"N/A\"\n\n# Create a Plotly figure for the time series\nfig = px.line(df, x='Date', y='OBFR', \n              title='Overnight Bank Funding Rate (OBFR) Over Time',\n              labels={'Date': 'Date', 'OBFR': 'Rate (%)'})\n\nfig.update_layout(\n    xaxis_title='Date',\n    yaxis_title='Funding Rate (%)',\n    template='plotly_dark',\n    title_x=0.5\n)\n\n\n# Initialize the Dash app\napp = dash.Dash(__name__)\nserver = app.server\n\n# Define the layout of the dashboard\napp.layout = html.Div(style={'backgroundColor': '#111111', 'color': '#7FDBFF', 'font-family': 'sans-serif'}, children=[\n    html.H1(\n        children='OBFR Dashboard',\n        style={\n            'textAlign': 'center',\n            'padding': '20px'\n        }\n    ),\n\n    html.Div(children='A dashboard displaying the latest Overnight Bank Funding Rate.', style={\n        'textAlign': 'center',\n        'padding-bottom': '20px'\n    }),\n    \n    html.Div(\n        children=[\n            html.Div(\n                children=[\n                    html.H3(\"Most Recent OBFR\", style={'textAlign': 'center'}),\n                    html.P(f\"{most_recent_value:.2f}%\", style={'textAlign': 'center', 'fontSize': '2em'}),\n                    html.P(f\"as of {most_recent_date}\", style={'textAlign': 'center'})\n                ],\n                style={'width': '30%', 'display': 'inline-block', 'verticalAlign': 'top', 'padding': '20px'}\n            ),\n            html.Div(\n                dcc.Graph(\n                    id='obfr-time-series-chart',\n                    figure=fig\n                ),\n                style={'width': '70%', 'display': 'inline-block'}\n            )\n        ]\n    )\n])\n\n# Run the app\nif __name__ == '__main__':\n    app.run_server(debug=True)","outputs":[],"execution_count":null,"metadata":{}},{"cell_type":"markdown","source":"### Dashboard Features:\n\n  * **Main Title:** A clear heading for the dashboard.\n  * **Most Recent Value:** A card that highlights the latest available OBFR, so you can see the current rate at a glance.\n  * **Interactive Time Series Chart:** A Plotly graph showing the historical trend of the OBFR. You can hover over the line to see values for specific dates, and zoom in on particular time periods.\n  * **Dark Theme:** A modern, easy-on-the-eyes dark theme for the dashboard.","metadata":{}}],"metadata":{"colab":{"from_bard":true},"kernelspec":{"display_name":"Python 3","name":"python3"}},"nbformat":4,"nbformat_minor":0}